(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{42218:function(e,t,n){"use strict";t.Z=void 0;var r,o=(r=n(65129))&&r.__esModule?r:{default:r};t.Z=(0,o.default)("M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z","EyeOffOutline")},95898:function(e,t,n){"use strict";t.Z=void 0;var r,o=(r=n(65129))&&r.__esModule?r:{default:r};t.Z=(0,o.default)("M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z","EyeOutline")},40163:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(69725)}])},71919:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(87462),o=n(63366),i=n(67294),s=n(8780),a=n(94780),l=n(77527),d=n(44001),c=n(1588),u=n(34867);function h(e){return(0,u.ZP)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var f=n(85893);let p=["className","component"],x=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},h,t)},m=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}}));var Z=i.forwardRef(function(e,t){let n=(0,d.i)({props:e,name:"MuiCardContent"}),{className:i,component:a="div"}=n,l=(0,o.Z)(n,p),c=(0,r.Z)({},n,{component:a}),u=x(c);return(0,f.jsx)(m,(0,r.Z)({as:a,className:(0,s.Z)(u.root,i),ownerState:c,ref:t},l))})},60762:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(87462),o=n(63366),i=n(67294),s=n(8780),a=n(94780),l=n(77527),d=n(44001),c=n(93454),u=n(1588),h=n(34867);function f(e){return(0,h.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var p=n(85893);let x=["className","raised"],m=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},f,t)},Z=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"}));var g=i.forwardRef(function(e,t){let n=(0,d.i)({props:e,name:"MuiCard"}),{className:i,raised:a=!1}=n,l=(0,o.Z)(n,x),c=(0,r.Z)({},n,{raised:a}),u=m(c);return(0,p.jsx)(Z,(0,r.Z)({className:(0,s.Z)(u.root,i),elevation:a?8:void 0,ref:t,ownerState:c},l))})},69725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(85893),o=n(67294),i=n(11163),s=n(60990),a=n(51015),l=n(26541),d=n(94143),c=n(96788),u=n(52857),h=n(71919),f=n(6897),p=n(36307),x=n(77527),m=n(60762),Z=n(95611),g=n(44723),j=n(97182),C=n(95898),v=n(42218),w=n(13077),y=(0,w.Z)((0,r.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),b=(0,w.Z)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-6.99 15c-.7 0-1.26-.56-1.26-1.26 0-.71.56-1.25 1.26-1.25.71 0 1.25.54 1.25 1.25-.01.69-.54 1.26-1.25 1.26m3.01-7.4c-.76 1.11-1.48 1.46-1.87 2.17-.16.29-.22.48-.22 1.41h-1.82c0-.49-.08-1.29.31-1.98.49-.87 1.42-1.39 1.96-2.16.57-.81.25-2.33-1.37-2.33-1.06 0-1.58.8-1.8 1.48l-1.65-.7C9.01 7.15 10.22 6 11.99 6c1.48 0 2.49.67 3.01 1.52.44.72.7 2.07.02 3.08"}),"HelpCenter"),M=n(95639),k=n(71466),N=n(36488),L=n(46735),S=n(3085),_=n(21038),P=n(88196),z=n(92365),H=n(40110),T=n(32191),W=n(59037),O=n(56117);T.default.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(T.default.version,"/pdf.worker.js");var A=e=>{let{fileUrl:t,totalPages:n=2}=e;return(0,r.jsx)(s.Z,{p:2,children:(0,r.jsx)(O.Z,{file:t,children:(()=>{let e=[];for(let t=1;t<=n;t++)e.push((0,r.jsx)(W.Z,{pageNumber:t,renderTextLayer:!1,renderAnnotationLayer:!1},t));return e})()})})};let E=(0,x.ZP)(m.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("sm")]:{width:"28rem"}}}),R=()=>{let[e,t]=(0,o.useState)({username:"",password:"",showPassword:!1,rememberMe:!1}),[n,x]=(0,o.useState)(!1),[m,w]=(0,o.useState)(!1),{login:N,userInfo:T}=(0,L.a)(),[W,O]=(0,o.useState)(!1),R=()=>O(!1),I=(0,i.useRouter)(),B=n=>r=>{t({...e,[n]:r.target.value})},D=async t=>{t.preventDefault(),w(!0),x(!1);try{let t=await fetch("".concat(S.J,"/Auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,rememberMe:e.rememberMe})}),n=await t.json();n.success?(N(n.token),x(!1),"Construction"===T().role?await I.push("/tai-nguyen-nuoc/giam-sat-ktsd"):await I.push("/")):x(!0)}catch(e){console.error("Login error:",e),x(!0)}finally{w(!1)}};return(0,r.jsxs)(s.Z,{className:"bg",children:[(0,r.jsx)(s.Z,{className:"content-center",children:(0,r.jsx)(E,{sx:{zIndex:1},children:(0,r.jsxs)(h.Z,{sx:{padding:e=>"".concat(e.spacing(12,9,7)," !important")},children:[(0,r.jsxs)(s.Z,{sx:{mb:3,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)("img",{src:"/images/logos/logo_sotnmt.png",width:70,height:70,alt:"logo-page"}),(0,r.jsx)(c.Z,{variant:"h6",align:"center",sx:{color:"#dc3545 !important",mt:2,mx:3,lineHeight:1,fontWeight:600,width:"100%",textTransform:"uppercase",fontSize:"1.5rem !important"},children:k.Z.templateName})]}),(0,r.jsx)(s.Z,{sx:{mb:6},children:(0,r.jsx)(c.Z,{variant:"overline",align:"center",sx:{fontWeight:600,marginBottom:1.5},children:"HỆ THỐNG QUẢN L\xdd CƠ SỞ DỮ LIỆU T\xc0I NGUY\xcaN NƯỚC"})}),n&&(0,r.jsx)(s.Z,{sx:{mb:3},children:(0,r.jsx)(g.Z,{severity:"error",children:"T\xe0i khoản hoặc mật khẩu kh\xf4ng ch\xednh x\xe1c!"})}),(0,r.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:D,children:[(0,r.jsx)(l.Z,{autoFocus:!0,fullWidth:!0,id:"username",label:(0,r.jsx)(c.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"T\xe0i khoản"}),sx:{marginBottom:4},value:e.username,onChange:B("username"),inputProps:{style:{paddingTop:10,paddingBottom:10,fontSize:15}}}),(0,r.jsxs)(f.Z,{fullWidth:!0,children:[(0,r.jsx)(d.Z,{htmlFor:"auth-login-password",children:(0,r.jsx)(c.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"Mật khẩu"})}),(0,r.jsx)(p.Z,{label:(0,r.jsx)(c.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"Mật khẩu"}),value:e.password,id:"auth-login-password",onChange:B("password"),type:e.showPassword?"text":"password",inputProps:{style:{paddingTop:10,paddingBottom:10,fontSize:15}},endAdornment:(0,r.jsx)(Z.Z,{position:"end",children:(0,r.jsx)(u.Z,{edge:"end",onClick:()=>{t({...e,showPassword:!e.showPassword})},onMouseDown:e=>{e.preventDefault()},"aria-label":"toggle password visibility",children:e.showPassword?(0,r.jsx)(C.Z,{}):(0,r.jsx)(v.Z,{})})})})]}),(0,r.jsxs)(s.Z,{sx:{my:4,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,r.jsx)(a.Z,{size:"large",variant:"contained",type:"submit",disabled:m,endIcon:m?(0,r.jsx)(j.Z,{color:"inherit",size:20}):(0,r.jsx)(y,{}),sx:{width:"79%"},children:"Đăng nhập"}),(0,r.jsx)(a.Z,{size:"large",variant:"outlined",type:"button",onClick:()=>O(!0),style:{width:"19%",padding:0},color:"error",children:(0,r.jsx)(_.Z,{title:"Hướng dẫn lấy t\xe0i khoản",placement:"top",children:(0,r.jsx)(u.Z,{children:(0,r.jsx)(b,{color:"error"})})})})]})]})]})})}),(0,r.jsxs)(P.Z,{open:W,onClose:R,fullWidth:!0,maxWidth:"md",children:[(0,r.jsxs)(z.Z,{children:["Hướng dẫn lấy t\xe0i khoản",(0,r.jsx)(u.Z,{"aria-label":"close",onClick:R,sx:{position:"absolute",right:8,top:8},children:(0,r.jsx)(M.Z,{})})]}),(0,r.jsx)(H.Z,{dividers:!0,children:(0,r.jsx)(A,{fileUrl:"/pdf/HD-gui-yc-dangkytaikhoan.pdf",totalPages:1})})]})]})};R.getLayout=e=>(0,r.jsx)(N.Z,{children:e});var I=R},69349:function(){},49080:function(){},57588:function(){},3071:function(){},15232:function(){}},function(e){e.O(0,[3701,6541,8157,776,5370,5258,2888,9774,179],function(){return e(e.s=40163)}),_N_E=e.O()}]);