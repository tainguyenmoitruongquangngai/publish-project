(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{42218:function(e,t,n){"use strict";t.Z=void 0;var r,o=(r=n(65129))&&r.__esModule?r:{default:r};t.Z=(0,o.default)("M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z","EyeOffOutline")},95898:function(e,t,n){"use strict";t.Z=void 0;var r,o=(r=n(65129))&&r.__esModule?r:{default:r};t.Z=(0,o.default)("M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z","EyeOutline")},40163:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(86733)}])},71919:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(87462),o=n(63366),i=n(67294),s=n(8780),a=n(94780),l=n(77527),d=n(44001),c=n(1588),u=n(34867);function h(e){return(0,u.ZP)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var p=n(85893);let f=["className","component"],m=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},h,t)},Z=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}}));var x=i.forwardRef(function(e,t){let n=(0,d.i)({props:e,name:"MuiCardContent"}),{className:i,component:a="div"}=n,l=(0,o.Z)(n,f),c=(0,r.Z)({},n,{component:a}),u=m(c);return(0,p.jsx)(Z,(0,r.Z)({as:a,className:(0,s.Z)(u.root,i),ownerState:c,ref:t},l))})},60762:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(87462),o=n(63366),i=n(67294),s=n(8780),a=n(94780),l=n(77527),d=n(44001),c=n(93454),u=n(1588),h=n(34867);function p(e){return(0,h.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var f=n(85893);let m=["className","raised"],Z=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},p,t)},x=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"}));var g=i.forwardRef(function(e,t){let n=(0,d.i)({props:e,name:"MuiCard"}),{className:i,raised:a=!1}=n,l=(0,o.Z)(n,m),c=(0,r.Z)({},n,{raised:a}),u=Z(c);return(0,f.jsx)(x,(0,r.Z)({className:(0,s.Z)(u.root,i),elevation:a?8:void 0,ref:t,ownerState:c},l))})},95611:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r,o=n(63366),i=n(87462),s=n(67294),a=n(8780),l=n(94780),d=n(66643),c=n(96788),u=n(92276),h=n(57280),p=n(77527),f=n(1588),m=n(34867);function Z(e){return(0,m.ZP)("MuiInputAdornment",e)}let x=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=n(44001),v=n(85893);let j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],C=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,d.Z)(o)),s,r&&"hiddenLabel",i&&"size".concat((0,d.Z)(i))]};return(0,l.Z)(a,Z,t)},w=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["position".concat((0,d.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(x.positionStart,"&:not(.").concat(x.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})});var b=s.forwardRef(function(e,t){let n=(0,g.i)({props:e,name:"MuiInputAdornment"}),{children:l,className:d,component:p="div",disablePointerEvents:f=!1,disableTypography:m=!1,position:Z,variant:x}=n,b=(0,o.Z)(n,j),y=(0,h.Z)()||{},M=x;x&&y.variant,y&&!M&&(M=y.variant);let P=(0,i.Z)({},n,{hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:f,position:Z,variant:M}),L=C(P);return(0,v.jsx)(u.Z.Provider,{value:null,children:(0,v.jsx)(w,(0,i.Z)({as:p,ownerState:P,className:(0,a.Z)(L.root,d),ref:t},b,{children:"string"!=typeof l||m?(0,v.jsxs)(s.Fragment,{children:["start"===Z?r||(r=(0,v.jsx)("span",{className:"notranslate",children:"​"})):null,l]}):(0,v.jsx)(c.Z,{color:"text.secondary",children:l})}))})})},86733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var r=n(85893),o=n(67294),i=n(11163),s=n(60990),a=n(51015),l=n(26541),d=n(94143),c=n(96788),u=n(52857),h=n(71919),p=n(6897),f=n(36307),m=n(77527),Z=n(60762),x=n(95611),g=n(44723),v=n(97182),j=n(95898),C=n(42218),w=(0,n(13077).Z)((0,r.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),b=n(95639),y=n(71466),M=n(36488),P=n(46735),L=n(3085),k=n(88196),N=n(92365),S=n(40110),_=n(32191),z=n(59037),E=n(56117);_.default.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(_.default.version,"/pdf.worker.js");var T=e=>{let{fileUrl:t,totalPages:n=2}=e;return(0,r.jsx)(s.Z,{p:2,children:(0,r.jsx)(E.Z,{file:t,children:(()=>{let e=[];for(let t=1;t<=n;t++)e.push((0,r.jsx)(z.Z,{pageNumber:t,renderTextLayer:!1,renderAnnotationLayer:!1},t));return e})()})})};let W=(0,m.ZP)(Z.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("sm")]:{width:"28rem"}}}),A=()=>{let[e,t]=(0,o.useState)({username:"",password:"",showPassword:!1,rememberMe:!1}),[n,m]=(0,o.useState)(!1),[Z,M]=(0,o.useState)(!1),{login:_,userInfo:z}=(0,P.a)(),[E,A]=(0,o.useState)(!1),H=()=>A(!1),I=(0,i.useRouter)(),O=n=>r=>{t({...e,[n]:r.target.value})},R=async t=>{t.preventDefault(),M(!0),m(!1);try{let t=await fetch("".concat(L.J,"/Auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,rememberMe:e.rememberMe})}),n=await t.json();n.success?(_(n.token),m(!1),"Construction"===z().role?await I.push("/tai-nguyen-nuoc/giam-sat-ktsd"):await I.push("/")):m(!0)}catch(e){console.error("Login error:",e),m(!0)}finally{M(!1)}};return(0,r.jsxs)(s.Z,{className:"bg",children:[(0,r.jsx)(s.Z,{className:"content-center",children:(0,r.jsx)(W,{sx:{zIndex:1},children:(0,r.jsxs)(h.Z,{sx:{padding:e=>"".concat(e.spacing(12,9,7)," !important")},children:[(0,r.jsxs)(s.Z,{sx:{mb:3,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)("img",{src:"/images/logos/logo_sotnmt.png",width:70,height:70,alt:"logo-page"}),(0,r.jsx)(c.Z,{variant:"h6",align:"center",sx:{color:"#dc3545 !important",mt:2,mx:3,lineHeight:1,fontWeight:600,width:"100%",textTransform:"uppercase",fontSize:"1.5rem !important"},children:y.Z.templateName})]}),(0,r.jsx)(s.Z,{sx:{mb:6},children:(0,r.jsx)(c.Z,{variant:"overline",align:"center",sx:{fontWeight:600,marginBottom:1.5},children:"HỆ THỐNG QUẢN L\xdd CƠ SỞ DỮ LIỆU T\xc0I NGUY\xcaN NƯỚC"})}),n&&(0,r.jsx)(s.Z,{sx:{mb:3},children:(0,r.jsx)(g.Z,{severity:"error",children:"T\xe0i khoản hoặc mật khẩu kh\xf4ng ch\xednh x\xe1c!"})}),(0,r.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:R,children:[(0,r.jsx)(l.Z,{autoFocus:!0,fullWidth:!0,id:"username",label:(0,r.jsx)(c.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"T\xe0i khoản"}),sx:{marginBottom:4},value:e.username,onChange:O("username"),inputProps:{style:{paddingTop:10,paddingBottom:10,fontSize:15}}}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(d.Z,{htmlFor:"auth-login-password",children:(0,r.jsx)(c.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"Mật khẩu"})}),(0,r.jsx)(f.Z,{label:(0,r.jsx)(c.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"Mật khẩu"}),value:e.password,id:"auth-login-password",onChange:O("password"),type:e.showPassword?"text":"password",inputProps:{style:{paddingTop:10,paddingBottom:10,fontSize:15}},endAdornment:(0,r.jsx)(x.Z,{position:"end",children:(0,r.jsx)(u.Z,{edge:"end",onClick:()=>{t({...e,showPassword:!e.showPassword})},onMouseDown:e=>{e.preventDefault()},"aria-label":"toggle password visibility",children:e.showPassword?(0,r.jsx)(j.Z,{}):(0,r.jsx)(C.Z,{})})})})]}),(0,r.jsx)(s.Z,{sx:{mb:4,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:(0,r.jsx)(c.Z,{variant:"body2",sx:{color:"primary.main",cursor:"pointer",textDecoration:"underline"},onClick:()=>A(!0),children:"Hướng dẫn lấy t\xe0i khoản đăng nhập"})}),(0,r.jsx)(a.Z,{fullWidth:!0,size:"large",variant:"contained",sx:{marginBottom:7},type:"submit",disabled:Z,endIcon:Z?(0,r.jsx)(v.Z,{color:"inherit",size:20}):(0,r.jsx)(w,{}),children:"Đăng nhập"})]})]})})}),(0,r.jsxs)(k.Z,{open:E,onClose:H,fullWidth:!0,maxWidth:"md",children:[(0,r.jsxs)(N.Z,{children:["Hướng dẫn lấy t\xe0i khoản",(0,r.jsx)(u.Z,{"aria-label":"close",onClick:H,sx:{position:"absolute",right:8,top:8},children:(0,r.jsx)(b.Z,{})})]}),(0,r.jsx)(S.Z,{dividers:!0,children:(0,r.jsx)(T,{fileUrl:"/pdf/HD-gui-yc-dangkytaikhoan.pdf",totalPages:1})})]})]})};A.getLayout=e=>(0,r.jsx)(M.Z,{children:e});var H=A},69349:function(){},49080:function(){},57588:function(){},3071:function(){},15232:function(){}},function(e){e.O(0,[3701,6541,8157,776,5370,2888,9774,179],function(){return e(e.s=40163)}),_N_E=e.O()}]);